{
    "device": "$torch.device('cuda' if torch.cuda.is_available() else 'cpu')",
    "network_def": {
        "<name>": "UNet",
        "<args>": {
            "spatial_dims": 3,
            "in_channels": 1,
            "out_channels": 2,
            "channels": [
                16,
                32,
                64,
                128,
                256
            ],
            "strides": [
                2,
                2,
                2,
                2
            ],
            "num_res_units": 2,
            "norm": "batch"
        }
    },
    "network": "$@network_def.to(@device)",
    "preprocessing": {
        "<name>": "Compose",
        "<args>": {
            "transforms": [
                {
                    "<name>": "LoadImaged",
                    "<args>": {
                        "keys": "image"
                    }
                },
                {
                    "<name>": "EnsureChannelFirstd",
                    "<args>": {
                        "keys": "image"
                    }
                },
                {
                    "<name>": "ScaleIntensityRanged",
                    "<args>": {
                        "keys": "image",
                        "a_min": -57,
                        "a_max": 164,
                        "b_min": 0,
                        "b_max": 1,
                        "clip": true
                    }
                },
                {
                    "<name>": "EnsureTyped",
                    "<args>": {
                        "keys": "image"
                    }
                }
            ]
        }
    },
    "datalist": {
        "<name>": "DatasetFunc",
        "<args>": {
            "data": "$@<meta>#dataset_dir + '/dataset.json'",
            "func": "$monai.data.load_decathlon_datalist",
            "is_segmentation": true,
            "data_list_key": "test",
            "base_dir": "@<meta>#dataset_dir"
        }
    },
    "dataset": {
        "<name>": "Dataset",
        "<args>": {
            "data": "@datalist",
            "transform": "@preprocessing"
        }
    },
    "dataloader": {
        "<name>": "DataLoader",
        "<args>": {
            "dataset": "@dataset",
            "batch_size": 1,
            "shuffle": false,
            "num_workers": 4
        }
    },
    "inferer": {
        "<name>": "SlidingWindowInferer",
        "<args>": {
            "roi_size": [
                96,
                96,
                96
            ],
            "sw_batch_size": 4,
            "overlap": 0.5
        }
    },
    "postprocessing": {
        "<name>": "Compose",
        "<args>": {
            "transforms": [
                {
                    "<name>": "Activationsd",
                    "<args>": {
                        "keys": "pred",
                        "softmax": true
                    }
                },
                {
                    "<name>": "AsDiscreted",
                    "<args>": {
                        "keys": "pred",
                        "argmax": true
                    }
                },
                {
                    "<name>": "SaveImaged",
                    "<args>": {
                        "keys": "pred",
                        "meta_keys": "image_meta_dict",
                        "output_dir": "../eval"
                    }
                }
            ]
        }
    },
    "evaluator": {
        "<name>": "SupervisedEvaluator",
        "<args>": {
            "device": "@device",
            "val_data_loader": "@dataloader",
            "network": "@network",
            "inferer": "@inferer",
            "postprocessing": "@postprocessing",
            "amp": false
        }
    }
}
